# Тестирование с помощью PyTest

## PyTest — преимущества и недостатки

Установить PyTest можно использовав команду:

```shell
pip install pytest
```

Мы будем использовать версию 7.3.1. Её можно установить командой:

```shell
pip install pytest==7.3.1
```

Или подтянуть зависимости из файла `requirements.txt`:

```shell
pip install -r requirements.txt
```

Рассмотрим преимущества использования PyTest:

1. Простой и удобный в использовании: pytest разработан, чтобы быть интуитивно понятным и простым в использовании, с
   простым синтаксисом для определения тестов и фикстур.
2. Мощные фикстуры: фикстуры в pytest — это мощный инструмент для настройки тестовых данных и ресурсов, и их можно
   использовать в тестах и наборах тестов.
3. Полная отчетность: pytest предоставляет подробные и исчерпывающие отчеты о результатах тестирования, включая сводки,
   информацию о трассировке и продолжительность тестирования.
4. Параметризованное тестирование. С помощью pytest вы можете легко выполнять параметризованное тестирование, когда одна
   тестовая функция запускается с несколькими наборами входных данных.
5. Система плагинов: pytest имеет богатую систему плагинов, которая предоставляет широкий спектр функций, таких как
   параллельный запуск тестов, создание отчетов в формате HTML и многое другое.
6. Поддерживает как модульное, так и функциональное тестирование: pytest поддерживает как модульное, так и
   функциональное тестирование, что делает его универсальным инструментом для тестирования всех типов кода Python.
7. Лучшее обнаружение тестов: pytest обеспечивает лучшее обнаружение тестов, чем unittest, который может автоматически
   находить и запускать тесты в каталоге или модуле, не требуя явных тест-кейсов.

В целом, pytest — это мощный и гибкий инструмент тестирования, который обеспечивает множество преимуществ по сравнению с
unittest, включая более простой синтаксис, более мощные инструменты, улучшенную отчетность и большую расширяемость.

Хотя у pytest есть много преимуществ, есть и некоторые недостатки, которые следует учитывать при его использовании:

1. Кривая обучения: pytest имеет более обширный набор функций и требует некоторых дополнительных знаний по сравнению со
   встроенным модулем unittest. Это может затруднить обучение новичков.
2. Настройка: гибкость pytest может быть палкой о двух концах. Его широкие возможности настройки могут затруднить для
   команд поддержание согласованности в наборах тестов.
3. Управление плагинами: pytest имеет большое количество доступных плагинов, что может быть как силой, так и слабостью.
   Хотя они предлагают множество полезных функций, управление плагинами может занимать много времени, и может быть
   сложно найти и выбрать правильный плагин для ваших нужд.
4. Отладка: Отладка может быть сложной задачей в pytest из-за его модульной природы. Иногда может быть сложно
   определить, какой плагин или хук вызывает проблему, что приводит к увеличению времени отладки.
5. Накладные расходы: дополнительные функции и гибкость pytest сопряжены с некоторыми накладными расходами. В некоторых
   случаях тесты pytest могут выполняться дольше, чем тесты, написанные с использованием более простых сред
   тестирования.

При рассмотрении вопроса о том, является ли pytest правильным выбором для вашего проекта, важно взвесить эти недостатки
и преимущества.

## Отвлекемся на фиксацию пакетов

Файл `requirements.txt` — это текстовый файл, в котором вы можете перечислить необходимые пакеты Python с их версиями.
Распространенной практикой является использование файла `requirements.txt`, чтобы сделать ваш проект более переносимым и
чтобы любой, кто хочет запустить ваш код, могли легко установить все зависимости.

Когда вы создаете файл `requirements.txt`, вы можете перечислить все пакеты Python, необходимые для запуска вашего
проекта. Вы можете указать версию каждого пакета или использовать диапазоны версий, чтобы указать, что любая версия в
пределах определенного диапазона будет приемлемой.

Чтобы создать файл requirements.txt для вашего проекта Python, выполните следующие действия:

1. Откройте командную строку или окно терминала.
2. Перейдите в каталог вашего проекта.
3. Убедитесь, что ваша виртуальная среда активна.
4. Выполните следующую команду, чтобы создать файл `requirements.txt`:

```shell
pip freeze > requirements.txt
```

Это создаст новый файл с именем `requirements.txt` в каталоге вашего проекта. Файл будет содержать список всех
установленных пакетов и их версий.

Если вы используете виртуальные среды, рекомендуется создать новый файл требований после установки нового пакета или
обновления существующего. Это гарантирует наличие актуального списка зависимостей, которые можно легко установить в
других средах.

Чтобы установить зависимости из файла `requirements.txt` нужно использовать команду:

```shell
pip install -r requirements.txt
```

Все необходимые зависимости установлены одной командой!
