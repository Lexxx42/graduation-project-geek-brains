# Тестирование web-приложений и тестовые фреймворки

Для начала нам необходимо познакомиться с распространенными тестовыми фреймовками unittest и PyTest.
Это необходимо, чтобы называть наши скрипты тестами. А главный атрибут теста - это сопоставление ожидаемого результата
фактическому.

## Автоматическое и ручное тестирование

Чтобы писать хорошие автотесты необходимо понимать различия, сильные и слабы стороны ручного и автоматического
тестирования.

| Критерий                                  | Ручное тестирование                                                           | Автоматическое тестирование                                                       |
|-------------------------------------------|-------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
| Тестовое покрытие                         | Ограниченное тестовое покрытие из-за нехватки времени и ресурсов              | Полное тестовое покрытие может быть достигнуто с помощью больших наборов тестов   |
| Скорость выполнения                       | Медленное выполнение и большая трудоемкость                                   | Более быстрое выполнение, экономия времени и усилий                               |
| Человеческие ошибки                       | Подвержены человеческим ошибкам                                               | Менее подвержены человеческим ошибкам                                             |
| Содержание                                | Сценарии ручного тестирования требуют большего обслуживания и поддержки       | Сценарии автоматизированного тестирования требуют меньше обслуживания и поддержки |
| Регрессионное тестирование                | Ручное регрессионное тестирование отнимает много времени и подвержено ошибкам | Автоматизированное регрессионное тестирование эффективно и надежно                |
| Начальная стоимость и настройка окружения | Низкие первоначальные затраты и время настройки                               | Высокая начальная стоимость и время настройки                                     |
| Гибкость                                  | Более гибкие с точки зрения модификации тест-кейсов                           | Менее гибкие с точки зрения модификации тест-кейсов                               |
| Требования к навыкам                      | Не требует специальных технических навыков                                    | Требуются специальные технические навыки                                          |
| Когда использовать                        | При тестировании небольших изолированных функций или новых приложений         | При тестировании больших сложных систем с повторяющимися тестовыми сценариями     |

### Ручное тестирование лучше использовать в следующих случаях:

+ Для исследовательского тестирования, когда тестирование основано на интуиции, творчестве и опыте, а не на заранее
  определенном наборе тест-кейсов.
+ Для тестирования удобства использования, когда основное внимание уделяется пользовательскому опыту и требуется
  обратная связь.
+ Для тестирования небольших изолированных функций или новых приложений, где тестовые наборы ограничены, а стоимость
  автоматизации высока.
+ Когда тестирование требует участия человека, например, тестирование пользовательского интерфейса или интуитивное (
  ad-hoc) тестирование.

### Лучше использовать автоматизированное тестирование в следующих случаях:

+ При тестировании больших и сложных систем с повторяющимися тест-кейсами.
+ Когда требуется регрессионное тестирование, чтобы убедиться, что новые изменения не нарушают существующую
  функциональность.
+ Когда требуется тестирование производительности или нагрузочное тестирование для имитации большого количества
  пользователей.
+ Когда требуется интеграционное тестирование, чтобы убедиться, что все компоненты системы работают без сбоев.
+ При тестировании требуется высокая степень точности и согласованности, например, проверка данных или тестирование
  безопасности.

## Юнит-тесты (модульные тесты) и интеграционные тесты

Интеграционные тесты и модульные тесты — это типы автоматических тестов, но они различаются по своему объему и
назначению.

Модульные тесты сосредоточены на тестировании отдельных единиц кода, таких как функции или методы, изолированно от
остальной системы. Цель модульных тестов — убедиться, что каждая сущность кода ведет себя ожидаемым образом в различных
условиях и что изменения в одной сущносте кода не нарушают работу других сущностей. Примеры модульных тестов могут
включать тестирование функции, вычисляющей квадратный корень из числа, или тестирование метода,
который складывает два числа.

Интеграционные тесты, с другой стороны, сосредоточены на проверке того, как различные блоки кода работают вместе, чтобы
сформировать полную систему. Целью интеграционных тестов является выявление проблем, которые могут возникнуть при
объединении различных единиц кода, таких как проблемы со связью между компонентами или с внешними системами. Примеры
интеграционных тестов могут включать тестирование сквозной функциональности веб-приложения или тестирование
взаимодействия базы данных с приложением.

Как правило, модульные тесты запускаются чаще и выполняются быстрее, чем интеграционные тесты, поскольку они тестируют
небольшие фрагменты кода изолированно. Однако интеграционные тесты важны для обеспечения правильной работы системы в
целом и обычно выполняются реже, чем модульные тесты.

Важно отметить, что граница между модульными тестами и интеграционными тестами иногда может быть нечеткой и что различие
между ними не всегда ясное. Некоторые тесты могут находиться где-то посередине, и в конечном итоге команда тестирования
должна определить, как лучше классифицировать и расставить приоритеты для своих тестов в зависимости от потребностей
проекта.

Подробнее про разные типы автотестов вы можете изучить самостоятельно. Вот хорошая
статья [Пирамида тестов на практике](https://habr.com/ru/articles/358950/).

## Структура теста

Основная структура тестирования как для модульных, так и UI автоматизированных тестов
может быть разбита на три части:

1. Test Setup: здесь подготавливаются среда и тестовые данные. В модульных тестах это может включать настройку фиктивных
   объектов(mocks) или заглушек для зависимостей, а в тестах пользовательского интерфейса — настройку веб-драйвера или
   эмулятора.
2. Test Execution: здесь выполняется фактическая тестовая логика. В модульных тестах это может включать вызов методов и
   проверку вывода, тогда как в тестах пользовательского интерфейса это может включать взаимодействие с элементами
   пользовательского интерфейса и проверку ожидаемого поведения.
3. Test Teardown: здесь выполняются любые действия по очистке. В модульных тестах это может включать сброс состояния
   любых фиктивных объектов, а в тестах пользовательского интерфейса это может включать закрытие веб-драйвера или
   эмулятора.

Несмотря на некоторые различия в деталях реализации модульных тестов и тестов пользовательского интерфейса, общая
структура тестов схожа. Оба типа тестов направлены на проверку функциональности приложения и обеспечение его правильного
поведения в различных сценариях.

Давайте обсудим, как именно можно производить проверки.



